---
import ContainerWithBorder from '../atoms/ContainerWithBorder.astro'
import DoubleSectionHeading from '../atoms/DoubleSectionHeading.astro'
import ImageWithDynamicallyImportedSrc from '../atoms/ImageWithDynamicallyImportedSrc.astro'
import Loader from '../atoms/Loader.astro'
import ProgressCircle from '../atoms/ProgressCircle.astro'
import SectionHeading from '../atoms/SectionHeading.astro'

const results = [
  {
    percentageIncrease: 70,
    description: 'Decrease in administrative hours',
  },
  {
    percentageIncrease: 85,
    description: 'Faster response times for client inquiries',
  },
  {
    percentageIncrease: 5,
    description: 'Increase in lead conversion rate',
  },
]
---

<script>
  import { modalIsOpenWithId } from '../../stores/modalStore'
  modalIsOpenWithId.subscribe(isOpenWithId => {
    if (isOpenWithId) {
      document
        .querySelectorAll('.animated-heading')
        .forEach(el => el.classList.add('staggered-fade-in'))
    }
  })
</script>

<div
  class="flex flex-col justify-evenly items-center md:flex-row md:items-start w-full gap-6 pt-6 pr-2"
>
  <div class="md:hidden">
    <div
      class="relative w-full min-h-60 max-h-60 overflow-hidden rounded-md mb-10"
    >
      <ImageWithDynamicallyImportedSrc
        imageName={'industry.png'}
        alt={'industry'}
        classes={['absolute w-full animated-heading']}
      />
    </div>
    <DoubleSectionHeading
      accentHeading="CASE STUDY"
      mainHeading="Mason Firth AEC"
      animationClass="animated-heading text-start"
    />

    <p class="text-sm text-gray-400 font-bold w-full mt-8">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua.
    </p>
  </div>

  <ContainerWithBorder
    classes={[
      'flex flex-col justify-center items-center w-9/12 gap-4 p-6 h-fit md:sticky md:top-0 md:w-2/12 md:mb-12',
    ]}
  >
    <h1 class="text-[1rem] font-bold text-center subtitle">Results</h1>

    {
      results.map((result, index) => (
        <div class="flex flex-col items-center justify-center max-w-80 ">
          <ProgressCircle
            isModalChild={true}
            percentage={result.percentageIncrease}
            index={index}
          />
          <p class="text-sm text-gray-400 mt-2 max-w-56 text-center">
            {result.description}
          </p>
        </div>
      ))
    }
  </ContainerWithBorder>
  <div class="w-full md:w-9/12 flex flex-col items-start gap-10">
    <div
      class="hidden md:block relative w-full min-h-60 max-h-60 overflow-hidden rounded-lg"
    >
      <ImageWithDynamicallyImportedSrc
        imageName={'industry.png'}
        alt={'industry'}
        classes={['absolute w-full animated-heading lg:-top-36']}
      />
    </div>
    <div class="hidden md:block">
      <DoubleSectionHeading
        accentHeading="CASE STUDY"
        mainHeading="Mason Firth AEC"
        animationClass="animated-heading text-start"
      />
    </div>

    <p class="text-sm text-gray-400 font-bold w-full hidden md:block">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat.
    </p>

    <div class="flex justify-between items-start gap-3">
      <ImageWithDynamicallyImportedSrc
        imageName={'service.png'}
        alt={'challenge'}
        width={25}
        height={25}
      />
      <h1 class="text-[1rem] font-bold text-center animated-heading">
        Challenge
      </h1>
    </div>

    <p class="text-sm text-gray-400 mt-2 w-full">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
      velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
      cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
      est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
      do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
      minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
      ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
      velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
      cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
      est laborum.
    </p>
    <div class="flex justify-between items-start gap-3">
      <ImageWithDynamicallyImportedSrc
        imageName={'tick.png'}
        alt={'challenge'}
        width={25}
        height={25}
      />
      <h1 class="text-[1rem] font-bold text-center animated-heading">
        Solution
      </h1>
    </div>
    <p class="text-sm text-gray-400 mt-2 w-full">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
      velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
      cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
      est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
      do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
      minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
      ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
      velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
      cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
      est laborum.
    </p>

    <div class="flex justify-between items-start gap-3">
      <ImageWithDynamicallyImportedSrc
        imageName={'tick.png'}
        alt={'challenge'}
        width={25}
        height={25}
      />
      <h1 class="text-[1rem] font-bold text-center animated-heading">
        Conclusion
      </h1>
    </div>
    <p class="text-sm text-gray-400 mt-2 w-full">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
      velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
      cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
      est laborum.
    </p>
    <SectionHeading>Architecture Overview</SectionHeading>
    <p class="text-sm text-gray-400 mt-2 w-full font-bold">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
      velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
      cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
      est laborum.
    </p>
    <ImageWithDynamicallyImportedSrc
      imageName={'architecture.webp'}
      alt={'architecture'}
      classes={['w-full rounded-lg mb-10']}
    />
  </div>
</div>
